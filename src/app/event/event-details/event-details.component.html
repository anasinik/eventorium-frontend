<div class="container">
    <mat-card>
      <mat-card-header>
        <mat-card-title> {{ event?.name }}</mat-card-title>
        <mat-card-subtitle class="type">
          <strong>Event type: </strong> {{ event?.eventType }}
        </mat-card-subtitle>
        <mat-card-subtitle class="type">
          <strong>Privacy type: </strong> {{ event?.privacy }}
        </mat-card-subtitle>
        <div *ngIf="loggedIn" class="action-buttons">
            <button mat-icon-button (click)="toggleFavourite()">
              <mat-icon> {{ isFavourite ? 'favorite' : 'favorite_border' }} </mat-icon>
            </button>
            <button mat-icon-button (click)="openChatDialog()" >
              <mat-icon>message</mat-icon>
            </button>
        </div>
    </mat-card-header>
      <mat-card-content>
        <p class="description">{{ event?.description }}</p>
        <p><mat-icon>groups</mat-icon> {{ event?.maxParticipants }}</p>
        <p><mat-icon>location_on</mat-icon><strong> {{ event?.address }} </strong></p>
        <p><mat-icon>location_city</mat-icon><strong> {{ event?.city }} </strong></p>
        <p><mat-icon>date_range</mat-icon><strong> {{ event?.date }} </strong></p>
      </mat-card-content>
    </mat-card>
    <mat-card class="question" *ngIf="loggedIn">
      <p>Are you planning to join this event?</p>
        <button mat-button (click)="addToCalendar()">
          <mat-icon>event_available</mat-icon>
          Add to calendar
        </button>
    </mat-card>
    <mat-card class="schedule" *ngIf="loggedIn && agenda.length != 0">
      <mat-card-content>
        <mat-card-title> <mat-icon>schedule</mat-icon> Agenda</mat-card-title>
        <table mat-table [dataSource]="agenda" class="mat-elevation-z8">
          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef> Name </th>
            <td mat-cell *matCellDef="let element"> {{ element.name }} </td>
          </ng-container>
          <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef> Description </th>
            <td mat-cell *matCellDef="let element"> {{ element.description }} </td>
          </ng-container>
          <ng-container matColumnDef="startTime">
            <th mat-header-cell *matHeaderCellDef> Start Time </th>
            <td mat-cell *matCellDef="let element"> {{ element.startTime }} </td>
          </ng-container>
          <ng-container matColumnDef="endTime">
            <th mat-header-cell *matHeaderCellDef> End Time </th>
            <td mat-cell *matCellDef="let element"> {{ element.endTime }} </td>
          </ng-container>
          <ng-container matColumnDef="location">
            <th mat-header-cell *matHeaderCellDef> Location </th>
            <td mat-cell *matCellDef="let element"> {{ element.location }} </td>
          </ng-container>
    
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    
        </table>
      </mat-card-content>
    </mat-card>
    
</div>
